{"version":3,"sources":["webpack:///./src/pages/Game.vue?3532","webpack:///./src/pages/Game.vue?8a58","webpack:///./src/pages/Game.vue","webpack:///./src/pages/Game.vue?08c0","webpack:///./src/pages/Game.vue?cf1c"],"names":["render","_vm","this","_h","$createElement","_c","_self","staticClass","attrs","gameId","_v","_s","winRate","_e","gameTeams","teamRoute","on","toggleFavoriteTeam","scopedSlots","_u","key","fn","ref","item","staticRenderFns","name","components","TheTitle","TheCardsList","TeamsEditDialog","props","type","String","required","setup","ctx","store","root","$store","allTeams","state","teams","allGames","games","loadGames","dispatch","loadWinRate","value","loadTeams","loadData","getGameTeams","getters","getGame","params","teamId","query","updateTeam","team","teamInfo","setBackTitle","backTitle","gameName","component","VIcon"],"mappings":"iIAAA,W,yCCAA,IAAIA,EAAS,WAAa,IAAIC,EAAIC,KAASC,EAAGF,EAAIG,eAAmBC,EAAGJ,EAAIK,MAAMD,IAAIF,EAAG,OAAOE,EAAG,UAAU,CAACE,YAAY,QAAQ,CAACF,EAAG,WAAW,CAACG,MAAM,CAAC,MAAQ,QAAQ,KAAO,wBAAwB,MAAQ,CAAEC,OAAQR,EAAIQ,QAAS,UAAY,sBAAuBR,EAAW,QAAEI,EAAG,MAAM,CAACE,YAAY,YAAY,CAACF,EAAG,SAAS,CAACE,YAAY,OAAOC,MAAM,CAAC,KAAO,GAAG,MAAQ,YAAY,CAACP,EAAIS,GAAG,4BAA4BL,EAAG,OAAO,CAACJ,EAAIS,GAAG,qBAAqBT,EAAIU,GAAGV,EAAIW,aAAa,GAAGX,EAAIY,KAAMZ,EAAa,UAAEI,EAAG,eAAe,CAACG,MAAM,CAAC,aAAaP,EAAIa,UAAU,aAAab,EAAIc,WAAWC,GAAG,CAAC,SAAWf,EAAIgB,oBAAoBC,YAAYjB,EAAIkB,GAAG,CAAC,CAACC,IAAI,SAASC,GAAG,SAASC,GACpqB,IAAIC,EAAOD,EAAIC,KACf,MAAO,CAAClB,EAAG,kBAAkB,CAACG,MAAM,CAAC,KAAOe,SAAY,MAAK,EAAM,cAActB,EAAIY,MAAM,IACvFW,EAAkB,G,kEC+BP,iBAAgB,CAC7BC,KAAM,OACNC,WAAY,CACVC,SAAU,kBAAM,iDAChBC,aAAc,kBAAM,sFAEpBC,gBAAiB,kBAAM,uFAEzBC,MAAO,CACLrB,OAAQ,CACNsB,KAAMC,OACNC,UAAU,IAGdC,MAd6B,SAcvBJ,EAAOK,GACX,MAAwB,eAAOL,GAAvBrB,EAAR,EAAQA,OAEF2B,EAAQD,EAAIE,KAAKC,OAEjBC,EAAW,gBAAS,kBAAMH,EAAMI,MAAMC,MAAMA,SAE5CC,EAAW,gBAAS,kBAAMN,EAAMI,MAAMG,MAAMA,SAE5CC,EAAY,kBAAMR,EAAMS,SAAS,oBAEjCC,EAAc,kBAAMV,EAAMS,SAAS,oBAAqBpC,EAAOsC,QAE/DC,EAAY,kBAAMZ,EAAMS,SAAS,oBAEjCI,EAAW,WAAK,QACpB,UAAQ,OAARV,QAAQ,IAARA,OAAA,EAAAA,EAAUQ,aAAV,OAAmBC,IACnB,UAAQ,OAARN,QAAQ,IAARA,OAAA,EAAAA,EAAUK,aAAV,OAAmBH,IACnBE,KAGFG,IAEA,IAAMrC,EAAU,gBAAS,kBAAMwB,EAAMI,MAAMG,MAAM/B,WAE3CsC,EAAe,kBACnBd,EAAMe,QAAQ,sBAAsB1C,EAAOsC,QAEvCjC,EAAY,gBAAS,kBAAe,OAARyB,QAAQ,IAARA,KAAUQ,MAAQG,IAAiB,QAE/DE,EAAU,kBAAMhB,EAAMe,QAAQ,iBAAiB1C,EAAOsC,QAEtDhC,EAAY,gBAAS,iBAAO,CAChCU,KAAM,OACN4B,OAAQ,CAAEC,OAAQ,IAClBC,MAAO,CAAE9C,OAAQA,EAAOsC,WAGpBS,EAAa,SAACC,GAAD,OAAerB,EAAMS,SAAS,mBAAoBY,IAE/DxC,EAAqB,SAACyC,GAC1B,IAAMD,EAAO,iCACRC,GADK,IAERjD,OAAQA,EAAOsC,QAEjBS,EAAWC,IAGPE,EAAe,SAACC,GAAD,OACnBxB,EAAMS,SAAS,eAAgBe,IAUjC,OARA,gBAAgB,kBAAMD,OAEtB,gBAAY,WACV,GAAKjB,EAASK,MAAd,CACA,MAA2BK,IAAbS,EAAd,EAAQpC,KACRkC,EAAaE,OAGR,CACLjD,UACAE,YACAC,YACAE,yBC/GyX,I,yDCQ3X6C,EAAY,eACd,EACA9D,EACAwB,GACA,EACA,KACA,KACA,MAIa,aAAAsC,EAAiB,QAKhC,IAAkBA,EAAW,CAACC,QAAA","file":"js/game.231754f9.js","sourcesContent":["export * from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Game.vue?vue&type=style&index=0&lang=scss&\"","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('section',{staticClass:\"game\"},[_c('TheTitle',{attrs:{\"title\":\"Teams\",\"icon\":\"account-group-outline\",\"props\":{ gameId: _vm.gameId },\"component\":\"teams-add-dialog\"}}),(_vm.winRate)?_c('div',{staticClass:\"win-rate\"},[_c('v-icon',{staticClass:\"mr-3\",attrs:{\"dark\":\"\",\"color\":\"primary\"}},[_vm._v(\"mdi-brightness-percent\")]),_c('span',[_vm._v(\"Your win rate is: \"+_vm._s(_vm.winRate))])],1):_vm._e(),(_vm.gameTeams)?_c('TheCardsList',{attrs:{\"card-items\":_vm.gameTeams,\"card-route\":_vm.teamRoute},on:{\"favorite\":_vm.toggleFavoriteTeam},scopedSlots:_vm._u([{key:\"action\",fn:function(ref){\nvar item = ref.item;\nreturn [_c('TeamsEditDialog',{attrs:{\"team\":item}})]}}],null,false,1145852791)}):_vm._e()],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\nimport {\n  defineComponent,\n  computed,\n  watchEffect,\n  onBeforeUnmount,\n  toRefs\n} from '@vue/composition-api';\n\nexport default defineComponent({\n  name: 'Game',\n  components: {\n    TheTitle: () => import('@/components/TheTitle.vue'),\n    TheCardsList: () => import('@/components/TheCardsList.vue'),\n    // TODO:lazy load when edit is clicked\n    TeamsEditDialog: () => import('@/components/TeamsEditDialog.vue')\n  },\n  props: {\n    gameId: {\n      type: String,\n      required: true\n    }\n  },\n  setup(props, ctx) {\n    const { gameId }: any = toRefs(props);\n\n    const store = ctx.root.$store;\n\n    const allTeams = computed(() => store.state.teams.teams);\n\n    const allGames = computed(() => store.state.games.games);\n\n    const loadGames = () => store.dispatch('games/loadGames');\n\n    const loadWinRate = () => store.dispatch('games/loadWinRate', gameId.value);\n\n    const loadTeams = () => store.dispatch('teams/loadTeams');\n\n    const loadData = () => {\n      allTeams?.value ?? loadTeams();\n      allGames?.value ?? loadGames();\n      loadWinRate();\n    };\n\n    loadData();\n\n    const winRate = computed(() => store.state.games.winRate);\n\n    const getGameTeams = () =>\n      store.getters['teams/getGameTeams'](gameId.value);\n\n    const gameTeams = computed(() => (allTeams?.value ? getGameTeams() : null));\n\n    const getGame = () => store.getters['games/getGame'](gameId.value);\n\n    const teamRoute = computed(() => ({\n      name: 'team',\n      params: { teamId: '' },\n      query: { gameId: gameId.value }\n    }));\n\n    const updateTeam = (team: any) => store.dispatch('teams/updateTeam', team);\n\n    const toggleFavoriteTeam = (teamInfo: any) => {\n      const team = {\n        ...teamInfo,\n        gameId: gameId.value\n      };\n      updateTeam(team);\n    };\n\n    const setBackTitle = (backTitle?: string) =>\n      store.dispatch('setBackTitle', backTitle);\n\n    onBeforeUnmount(() => setBackTitle());\n\n    watchEffect(() => {\n      if (!allGames.value) return;\n      const { name: gameName } = getGame();\n      setBackTitle(gameName);\n    });\n\n    return {\n      winRate,\n      gameTeams,\n      teamRoute,\n      toggleFavoriteTeam\n    };\n  }\n});\n","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--14-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/ts-loader/index.js??ref--14-3!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Game.vue?vue&type=script&lang=ts&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--14-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/ts-loader/index.js??ref--14-3!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Game.vue?vue&type=script&lang=ts&\"","import { render, staticRenderFns } from \"./Game.vue?vue&type=template&id=99dcbc9e&\"\nimport script from \"./Game.vue?vue&type=script&lang=ts&\"\nexport * from \"./Game.vue?vue&type=script&lang=ts&\"\nimport style0 from \"./Game.vue?vue&type=style&index=0&lang=scss&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports\n\n/* vuetify-loader */\nimport installComponents from \"!../../node_modules/vuetify-loader/lib/runtime/installComponents.js\"\nimport { VIcon } from 'vuetify/lib/components/VIcon';\ninstallComponents(component, {VIcon})\n"],"sourceRoot":""}