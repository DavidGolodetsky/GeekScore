(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["profile"],{"74dc":function(t,e,a){"use strict";a.r(e);var s=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("section",[a("the-title",{attrs:{title:"Profile",icon:"account-details"}}),t.alertData.showAlert?a("the-alert",{attrs:{type:t.alertData.type,text:t.alertData.text}}):t._e(),a("v-container",[a("v-row",[a("v-col",{attrs:{cols:"12"}},[a("v-text-field",{staticClass:"my-2",attrs:{rules:t.rules.username,label:"Username",readonly:t.isReadOnly,dark:"",outlined:"",required:""},model:{value:t.formData.username,callback:function(e){t.$set(t.formData,"username",e)},expression:"formData.username"}}),a("v-card-actions",[t.isReadOnly?t._e():a("v-btn",{on:{click:t.resetForm}},[t._v(" Cancel ")]),a("v-btn",{attrs:{color:"secondary",disabled:!t.formIsValid},on:{click:t.updateUserData}},[t._v(" "+t._s(t.isReadOnly?"Edit":"Save")+" ")])],1)],1)],1),a("v-row",[a("v-col",[a("v-btn",{attrs:{color:"secondary"},on:{click:t.onLogout}},[a("v-icon",{attrs:{left:""}},[t._v("mdi-logout")]),t._v(" Logout ")],1)],1)],1)],1)],1)},r=[],n=a("f3f3"),o=a("882a"),i=a("44f0"),l=a("2f62"),c=a("bc3a"),u=a.n(c),d={name:"Profile",components:{TheAlert:i["a"],TheTitle:o["a"]},data:function(){return{alertData:{showAlert:!1,type:"success",text:""},isReadOnly:!0,defaultFormData:{username:""},formData:{username:""},rules:{username:[function(t){return(t||"").length>0||"Username cannot be empty"}]}}},computed:Object(n["a"])(Object(n["a"])({},Object(l["d"])("user",{userData:function(t){return t.user}})),{},{formIsValid:function(){return this.formData.username}}),created:function(){var t=this;this.userData&&u.a.get("/api/users/".concat(this.userData.id)).then((function(e){t.defaultFormData.username=e.data[0].username,t.formData.username=e.data[0].username}))},methods:Object(n["a"])(Object(n["a"])({},Object(l["b"])("user",["updateUsername","logout"])),{},{onLogout:function(){this.logout()},resetForm:function(){this.formData=Object.assign({},this.formData,this.defaultFormData),this.isReadOnly=!this.isReadOnly},updateUserData:function(){var t=this;this.isReadOnly?this.isReadOnly=!this.isReadOnly:(this.defaultFormData=Object.assign({},this.formData),this.updateUsername({id:this.userData.id,username:this.formData.username}).then((function(){t.toggleAlert(!0,"success","Username has been updated"),t.isReadOnly=!t.isReadOnly})).catch((function(e){t.toggleAlert(!0,"error","Username could not be updated"),console.log("An error has occurred: ".concat(e))})))},toggleAlert:function(t,e,a){var s=this;this.alertData=Object.assign({},this.alertData,{showAlert:t,type:e,text:a}),setTimeout((function(){s.alertData=Object.assign({},s.alertData,{showAlert:!1})}),1500)}})},m=d,f=a("2877"),h=a("6544"),D=a.n(h),b=a("8336"),p=a("99d9"),v=a("62ad"),O=a("a523"),y=a("132d"),g=a("0fd9"),w=a("8654"),R=Object(f["a"])(m,s,r,!1,null,null,null);e["default"]=R.exports;D()(R,{VBtn:b["a"],VCardActions:p["a"],VCol:v["a"],VContainer:O["a"],VIcon:y["a"],VRow:g["a"],VTextField:w["a"]})}}]);
//# sourceMappingURL=profile.9072fbc3.js.map