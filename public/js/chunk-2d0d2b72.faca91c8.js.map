{"version":3,"sources":["webpack:///./src/components/TheTendenciesChart.vue?18a0","webpack:///./src/components/TheTendenciesChart.vue","webpack:///./src/components/TheTendenciesChart.vue?645b","webpack:///./src/components/TheTendenciesChart.vue?3c1f"],"names":["render","_vm","this","_h","$createElement","_c","_self","attrs","chartData","chartOptions","staticRenderFns","register","name","components","LineChart","props","team","type","Object","required","rounds","Array","setup","playersStat","groupedByDate","value","reduce","r","a","month","Date","date","toLocaleString","push","create","players","map","player","toLowerCase","stat","dateObject","forEach","playerRes","filter","round","winner","length","labels","data","datasets","victories","top","Math","max","apply","min","floor","random","label","borderColor","backgroundColor","responsive","maintainAspectRatio","component"],"mappings":"yHAAA,IAAIA,EAAS,WAAa,IAAIC,EAAIC,KAASC,EAAGF,EAAIG,eAAmBC,EAAGJ,EAAIK,MAAMD,IAAIF,EAAG,OAAOE,EAAG,YAAY,CAACE,MAAM,CAAC,aAAaN,EAAIO,UAAU,QAAUP,EAAIQ,iBAC5JC,EAAkB,G,oGCStB,WAAMC,SAAN,iBAAK,eAAa,qBAEH,qBAAgB,CAC7BC,KAAM,qBACNC,WAAY,CACVC,UAAA,gBAEFC,MAAO,CACLC,KAAM,CACJC,KAAMC,OACNC,UAAU,GAEZC,OAAQ,CACNH,KAAMI,MACNF,UAAU,IAGdG,MAf6B,SAevBP,GACJ,MAA8B,eAAOA,GAA7BK,EAAR,EAAQA,OAAQJ,EAAhB,EAAgBA,KACVO,EAAc,gBAAS,WAC3B,IAAMC,EAAqBJ,EAAOK,MAAMC,QAAO,SAACC,EAAQC,GACtD,IAAMC,EAAQ,IAAIC,KAAKF,EAAEG,MAAMC,eAAe,UAAW,CACvDH,MAAO,UAIT,OAFAF,EAAEE,GAASF,EAAEE,IAAU,GACvBF,EAAEE,GAAOI,KAAKL,GACPD,IACNT,OAAOgB,OAAO,OAEXC,EAAoBnB,EAAKS,MAAMU,QAAQC,KAAI,SAACC,GAAD,OAC/CA,EAAOzB,KAAK0B,iBAGRC,EAAO,GAdmB,WAgBvBR,GACP,IAAMS,EAAkB,CAAET,QAC1BI,EAAQM,SAAQ,SAACJ,GACf,IAAMK,EAAiBlB,EAAcO,GAAMY,QACzC,SAACC,GAAD,OAAkBA,EAAMC,SAAWR,KAErCG,EAAWH,GAAUK,EAAUI,UAEjCP,EAAKN,KAAKO,IARZ,IAAK,IAAIT,KAAQP,EAAe,EAAvBO,GAUT,OAAOQ,KAGH/B,EAAY,gBAA4B,iBAAO,CACnDuC,OAAQxB,EAAYE,MAAMW,KAAI,SAACY,GAAD,OAAeA,EAAKjB,QAClDkB,SAAUjC,EAAKS,MAAMU,QAAQC,KAAI,SAACC,GAChC,IAAMa,EAAsB3B,EAAYE,MAAMW,KAC5C,SAACY,GAAD,OAAeA,EAAKX,EAAOzB,KAAK0B,kBAE9Ba,EACFC,KAAKR,MAAMQ,KAAKC,IAAIC,MAAM,KAAMJ,GAAa,GAAW,EACpDvB,EAAI,SAAC4B,EAAaF,GAAd,OACRD,KAAKI,MAAMJ,KAAKK,UAAYJ,EAAME,EAAM,GAAKA,IAC/C,MAAO,CACLG,MAAOrB,EAAOzB,KACd+C,YAAa,QAAF,OAAUhC,EAAE,EAAG,KAAf,aAAwBA,EAAE,EAAG,KAA7B,aAAsCA,EAAE,EAAG,KAA3C,UACXiC,gBAAiB,cACjBZ,KAAM,GAAF,sBAAME,GAAN,CAAiBC,YAKrB1C,EAAqC,CACzCoD,YAAY,EACZC,qBAAqB,GAGvB,MAAO,CAAEtD,YAAWC,mBClFqX,I,YCOzYsD,EAAY,eACd,EACA/D,EACAU,GACA,EACA,KACA,KACA,MAIa,aAAAqD,E","file":"js/chunk-2d0d2b72.faca91c8.js","sourcesContent":["var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('LineChart',{attrs:{\"chart-data\":_vm.chartData,\"options\":_vm.chartOptions}})}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","\n\n\n\n\nimport { defineComponent, computed, toRefs } from '@vue/composition-api';\nimport { LineChart } from 'vue-chart-3';\nimport { Chart, ChartData, ChartOptions, registerables } from 'chart.js';\nimport { Round, Player } from '@/types';\n\nChart.register(...registerables);\n\nexport default defineComponent({\n  name: 'TheTendenciesChart',\n  components: {\n    LineChart\n  },\n  props: {\n    team: {\n      type: Object,\n      required: true\n    },\n    rounds: {\n      type: Array,\n      required: true\n    }\n  },\n  setup(props) {\n    const { rounds, team }: any = toRefs(props);\n    const playersStat = computed(() => {\n      const groupedByDate: any = rounds.value.reduce((r: any, a: Round) => {\n        const month = new Date(a.date).toLocaleString('default', {\n          month: 'short'\n        });\n        r[month] = r[month] || [];\n        r[month].push(a);\n        return r;\n      }, Object.create(null));\n\n      const players: string[] = team.value.players.map((player: Player) =>\n        player.name.toLowerCase()\n      );\n\n      const stat = [];\n\n      for (let date in groupedByDate) {\n        const dateObject: any = { date };\n        players.forEach((player: string) => {\n          const playerRes: any = groupedByDate[date].filter(\n            (round: Round) => round.winner === player\n          );\n          dateObject[player] = playerRes.length;\n        });\n        stat.push(dateObject);\n      }\n      return stat;\n    });\n\n    const chartData = computed<ChartData<'line'>>(() => ({\n      labels: playersStat.value.map((data: any) => data.date),\n      datasets: team.value.players.map((player: Player) => {\n        const victories: number[] = playersStat.value.map(\n          (data: any) => data[player.name.toLowerCase()]\n        );\n        let top: number =\n          Math.round(Math.max.apply(null, victories) + 10 / 10) + 5;\n        const r = (min: number, max: number) =>\n          Math.floor(Math.random() * (max - min + 1) + min);\n        return {\n          label: player.name,\n          borderColor: `rgba(${r(0, 225)}, ${r(0, 225)}, ${r(0, 225)}, 0.4)`,\n          backgroundColor: 'transparent',\n          data: [...victories, top]\n        };\n      })\n    }));\n\n    const chartOptions: ChartOptions<'line'> = {\n      responsive: true,\n      maintainAspectRatio: false\n    };\n\n    return { chartData, chartOptions };\n  }\n});\n","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--14-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/ts-loader/index.js??ref--14-3!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./TheTendenciesChart.vue?vue&type=script&lang=ts&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--14-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/ts-loader/index.js??ref--14-3!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./TheTendenciesChart.vue?vue&type=script&lang=ts&\"","import { render, staticRenderFns } from \"./TheTendenciesChart.vue?vue&type=template&id=3b7f088d&\"\nimport script from \"./TheTendenciesChart.vue?vue&type=script&lang=ts&\"\nexport * from \"./TheTendenciesChart.vue?vue&type=script&lang=ts&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports"],"sourceRoot":""}