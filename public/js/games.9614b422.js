(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["games"],{"1efd":function(e,t,a){e.exports=a.p+"img/team.76152c6e.jpg"},"2d81":function(e,t,a){"use strict";a.r(t);var r=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("section",[a("TheTitle",{attrs:{title:"Games",icon:"dice-multiple-outline",component:"games-add-dialog"}}),e.games?a("TheCardsList",{attrs:{"card-route":e.gameRoute,"card-items":e.games},on:{favorite:e.toggleFavoriteGame},scopedSlots:e._u([{key:"action",fn:function(e){var t=e.item;return[a("GamesEditDialog",{attrs:{game:t}})]}}],null,!1,1533233783)}):e._e()],1)},n=[],i=a("a6f4"),o=a("882a"),s=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("BaseDialog",{attrs:{"activator-icon":"pencil-outline",color:"#fff",header:"Edit game info",simple:""},on:{submit:e.submitGame}},[e._l(e.fields,(function(t){return a("v-text-field",{key:t.label,attrs:{clearable:"",rules:t.rules,"prepend-icon":"mdi-"+t.icon,label:t.label},model:{value:t.value,callback:function(a){e.$set(t,"value","string"===typeof a?a.trim():a)},expression:"field.value"}})})),e.fields.imageUrl.value?a("v-img",{attrs:{src:e.fields.imageUrl.value,alt:e.fields.name.value,height:"200",contain:""}}):e._e(),a("v-switch",{attrs:{label:"Delete game",color:"error","hide-details":""},model:{value:e.toDelete,callback:function(t){e.toDelete=t},expression:"toDelete"}})],2)},l=[],c=a("2909"),u=(a("b0c0"),a("99af"),a("9dd9")),d=Object(i["h"])({name:"GamesEditDialog",props:{game:{type:Object,required:!0}},setup:function(e,t){var a=t.root.$store,r=Object(i["J"])(!1),n=Object(i["Q"])(e),o=n.game,s=Object(i["b"])((function(){return a.getters["games/getGamesNames"]()})),l=function(e){return Object(u["g"])(e,s.value,!0)},d=Object(i["H"])({name:{label:"Name",icon:"dice-multiple-outline",value:o.value.name,rules:[].concat(Object(c["a"])(u["e"]),[u["c"],l])},bggURL:{label:"Board geek game URL",icon:"cards-outline",value:void 0===o.value.bggURL?"":o.value.bggURL,rules:[u["b"]]},melodiceURL:{label:"Melodice URL",icon:"music-outline",value:void 0===o.value.melodiceURL?"":o.value.melodiceURL,rules:[u["b"]]},rulesURL:{label:"Rules URL",icon:"book-open-variant-outline",value:void 0===o.value.rulesURL?"":o.value.rulesURL,rules:[u["b"]]},imageUrl:{label:"Image URL",icon:"image-outline",value:void 0===o.value.imageUrl?"":o.value.imageUrl,rules:[u["b"]]}}),m=function(){if(r.value)return a.dispatch("games/deleteGame",o.value._id);f()},f=function(){var e={_id:o.value._id,name:d.name.value,bggURL:d.bggURL.value,melodiceURL:d.melodiceURL.value,rulesURL:d.rulesURL.value,imageUrl:d.imageUrl.value};return a.dispatch("games/updateGame",e)};return{toDelete:r,fields:d,submitGame:m,updateTheGame:f}}}),m=d,f=a("2877"),v=a("6544"),p=a.n(v),g=a("adda"),b=a("b73d"),h=a("8654"),_=Object(f["a"])(m,s,l,!1,null,null,null),y=_.exports;p()(_,{VImg:g["a"],VSwitch:b["a"],VTextField:h["a"]});var O=a("baab"),j=Object(i["h"])({name:"Games",components:{TheTitle:o["a"],GamesEditDialog:y,TheCardsList:O["a"]},setup:function(e,t){var a=t.root.$store,r=Object(i["b"])((function(){return a.state.games.games})),n=function(){var e;return null!==(e=null===r||void 0===r?void 0:r.value)&&void 0!==e?e:o()},o=function(){return a.dispatch("games/loadGames")};n();var s=function(e){return a.dispatch("games/updateGame",e)},l={name:"game",params:{gameId:""}},c=function(e){return s(e)};return{gameRoute:l,games:r,toggleFavoriteGame:c}}}),L=j,C=Object(f["a"])(L,r,n,!1,null,null,null);t["default"]=C.exports},"4f0c":function(e,t,a){e.exports=a.p+"img/game.10a04d7d.webp"},"544f":function(e,t,a){var r={"./team.jpg":"1efd","./team.webp":"c368"};function n(e){var t=i(e);return a(t)}function i(e){if(!a.o(r,e)){var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t}return r[e]}n.keys=function(){return Object.keys(r)},n.resolve=i,e.exports=n,n.id="544f"},baab:function(e,t,a){"use strict";var r=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("section",{staticClass:"the-cards-list"},[a("v-row",[a("v-col",{attrs:{sm:"6",md:"4",cols:"12"}},[e.cardItems.length>3?a("v-text-field",{attrs:{clearable:"","append-icon":"mdi-magnify",dark:"",outlined:"",rounded:"",label:"Search"},model:{value:e.searchedValue,callback:function(t){e.searchedValue=t},expression:"searchedValue"}}):e._e()],1)],1),a("v-row",e._l(e.filteredCards,(function(t){return a("v-col",{key:t._id,staticClass:"mb-6",attrs:{sm:"6",md:"4",cols:"12"}},[a("v-lazy",{attrs:{options:{threshold:.5},"min-height":"200",transition:"fade-transition"}},[a("TheCard",{attrs:{"card-info":t,"card-route":e.cardRoute,"is-favorite":e.cardItems.length>1},on:{favorite:function(t){return e.$emit("favorite",t)}},scopedSlots:e._u([{key:"action",fn:function(t){var a=t.item;return[e._t("action",null,{item:a})]}}],null,!0)})],1)],1)})),1)],1)},n=[],i=(a("fb6a"),a("4e827"),a("4de4"),a("ac1f"),a("1276"),a("caad"),a("2532"),a("b0c0"),a("a6f4")),o=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("v-card",{key:e.cardInfo._id,staticClass:"mx-auto app-card",attrs:{dark:"",raised:"","aria-describedby":e.cardInfo.name}},[a("router-link",{attrs:{to:e.formattedRoute}},[a("div",{staticClass:"title-wrap"},[a("v-card-title",{staticClass:"row_between"},[a("span",{staticClass:"card-list-name"},[e._v(e._s(e.cardInfo.name))]),e._t("action",null,{item:e.cardInfo})],2)],1),e.cardInfo.players?a("v-list",{staticClass:"players",attrs:{dense:"",disabled:""}},[a("v-list-item-group",e._l(e.cardInfo.players,(function(t){var r=t.name;return a("v-list-item",{key:r},[a("v-list-item-icon",[a("v-icon",{domProps:{textContent:e._s("mdi-account-outline")}})],1),a("v-list-item-content",{domProps:{textContent:e._s(r)}})],1)})),1)],1):e._e(),a("v-img",{staticClass:"white--text align-end",attrs:{height:"350",src:e.getImagePath(),srcset:e.getImagePath("webp"),alt:e.cardInfo.name},scopedSlots:e._u([{key:"placeholder",fn:function(){return[a("v-row",{staticClass:"fill-height ma-0",attrs:{align:"center",justify:"center"}},[a("v-progress-circular",{attrs:{indeterminate:"",color:"secondary"}})],1)]},proxy:!0}])},[a("div",{staticClass:"title-wrap"},[a("v-card-title",{staticClass:"card-list-actions"},[e.additionalLinks.length?e._l(e.additionalLinks,(function(t,r){return a("v-btn",{key:r,staticClass:"px-0 mx-1",attrs:{href:t.href,target:"_blank",download:t.download,rel:"noopener noreferrer",small:"","aria-label":e.cardInfo.name,text:"",fab:"",color:"#fff"},on:{click:function(e){e.stopPropagation()}}},[a("v-icon",{attrs:{dark:""}},[e._v("mdi-"+e._s(t.icon))])],1)})):e._e(),e.isFavorite?a("v-btn",{staticClass:"px-0 mx-1",attrs:{small:"",text:"","aria-label":"Favorite",fab:"",color:e.cardInfo.favorite?"error":"#fff"},on:{click:function(t){return t.stopPropagation(),t.preventDefault(),e.toggleFavorite.apply(null,arguments)}}},[a("v-icon",{attrs:{dark:""}},[e._v("mdi-heart")])],1):e._e()],2)],1)])],1)],1)},s=[],l=a("ade3"),c=a("5530"),u=(a("b64b"),Object(i["h"])({name:"TheCard",props:{cardRoute:{type:Object,required:!0},cardInfo:{type:Object,required:!0},isFavorite:{type:Boolean}},setup:function(e,t){var r=Object(i["Q"])(e),n=r.cardInfo,o=r.cardRoute,s=Object(i["b"])((function(){var e=[],t=n.value,a=t.bggURL,r=t.rulesURL,i=t.melodiceURL;if(a){var o={href:a,name:"Board game geek",icon:"cards"};e.push(o)}if(r){var s={href:r,name:"Rules",icon:"book-open-variant",download:!0};e.push(s)}if(i){var l={href:i,name:"Melodice",icon:"music"};e.push(l)}return e})),u=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"jpg",t=n.value,r=t.imageUrl,i=t.teams;return r?i?a("e679")("./game.".concat(e)):r:a("544f")("./team.".concat(e))},d=Object(i["b"])((function(){var e=Object(c["a"])({},o.value);return e.params=Object(l["a"])({},Object.keys(o.value.params)[0],n.value._id),e})),m=function(){var e=!n.value.favorite,a={favorite:e,_id:n.value._id};t.emit("favorite",a)};return{additionalLinks:s,formattedRoute:d,getImagePath:u,toggleFavorite:m}}})),d=u,m=(a("dfa8"),a("2877")),f=a("6544"),v=a.n(f),p=a("8336"),g=a("b0af"),b=a("99d9"),h=a("132d"),_=a("adda"),y=a("8860"),O=a("da13"),j=a("5d23"),L=a("1baa"),C=a("34c3"),R=a("490a"),U=a("0fd9"),k=Object(m["a"])(d,o,s,!1,null,"4ed5da68",null),w=k.exports;v()(k,{VBtn:p["a"],VCard:g["a"],VCardTitle:b["c"],VIcon:h["a"],VImg:_["a"],VList:y["a"],VListItem:O["a"],VListItemContent:j["a"],VListItemGroup:L["a"],VListItemIcon:C["a"],VProgressCircular:R["a"],VRow:U["a"]});var x=Object(i["h"])({name:"TheCardsList",components:{TheCard:w},props:{cardItems:{type:Array,required:!0},cardRoute:{type:Object,required:!0}},setup:function(e){var t=Object(i["Q"])(e),a=t.cardItems,r=Object(i["J"])(""),n=function(e){var t=e.slice().reverse();return t.sort((function(e,t){return t.favorite-e.favorite}))},o=function(){return a.value.filter((function(e){return r.value.toLowerCase().split(" ").every((function(t){return e.name.toLowerCase().includes(t)}))}))},s=Object(i["b"])((function(){if(!r.value)return n(a.value);var e=o();return n(e)}));return{searchedValue:r,filteredCards:s}}}),I=x,V=a("62ad"),G=a("24b2"),T=a("f2e7"),D=a("90a2"),E=a("58df"),F=a("80d2"),$=Object(E["a"])(G["a"],T["a"]).extend({name:"VLazy",directives:{intersect:D["a"]},props:{options:{type:Object,default:function(){return{root:void 0,rootMargin:void 0,threshold:void 0}}},tag:{type:String,default:"div"},transition:{type:String,default:"fade-transition"}},computed:{styles:function(){return Object(c["a"])({},this.measurableStyles)}},methods:{genContent:function(){var e=this.isActive&&Object(F["s"])(this);return this.transition?this.$createElement("transition",{props:{name:this.transition}},e):e},onObserve:function(e,t,a){this.isActive||(this.isActive=a)}},render:function(e){return e(this.tag,{staticClass:"v-lazy",attrs:this.$attrs,directives:[{name:"intersect",value:{handler:this.onObserve,options:this.options}}],on:this.$listeners,style:this.styles},[this.genContent()])}}),P=a("8654"),S=Object(m["a"])(I,r,n,!1,null,null,null);t["a"]=S.exports;v()(S,{VCol:V["a"],VLazy:$,VRow:U["a"],VTextField:P["a"]})},c368:function(e,t,a){e.exports=a.p+"img/team.bf4c6f13.webp"},cdc8:function(e,t,a){e.exports=a.p+"img/game.711fd041.jpg"},de2b:function(e,t,a){},dfa8:function(e,t,a){"use strict";a("de2b")},e679:function(e,t,a){var r={"./game.jpg":"cdc8","./game.webp":"4f0c"};function n(e){var t=i(e);return a(t)}function i(e){if(!a.o(r,e)){var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t}return r[e]}n.keys=function(){return Object.keys(r)},n.resolve=i,e.exports=n,n.id="e679"}}]);
//# sourceMappingURL=games.9614b422.js.map