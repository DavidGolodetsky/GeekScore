{"version":3,"sources":["webpack:///./src/components/TheBarsChart.vue?1ea4","webpack:///./src/components/TheBarsChart.vue","webpack:///./src/components/TheBarsChart.vue?efb7","webpack:///./src/components/TheBarsChart.vue?8eda"],"names":["render","_vm","this","_h","$createElement","_c","_self","attrs","chartData","staticRenderFns","register","name","components","BarChart","props","team","type","Object","required","rounds","Array","setup","getCoopStat","victories","defeats","values","value","forEach","round","result","data","top","Math","max","apply","getPlayers","players","map","player","getPlayersStat","playerRes","formattedPlayer","toLowerCase","keys","ceil","labels","coop","datasets","label","backgroundColor","component"],"mappings":"yHAAA,IAAIA,EAAS,WAAa,IAAIC,EAAIC,KAASC,EAAGF,EAAIG,eAAmBC,EAAGJ,EAAIK,MAAMD,IAAIF,EAAG,OAAOE,EAAG,WAAW,CAACE,MAAM,CAAC,aAAaN,EAAIO,cACnIC,EAAkB,G,8GCStB,WAAMC,SAAN,iBAAK,eAAa,qBAEH,qBAAgB,CAC7BC,KAAM,eACNC,WAAY,CACVC,SAAA,eAEFC,MAAO,CACLC,KAAM,CACJC,KAAMC,OACNC,UAAU,GAEZC,OAAQ,CACNH,KAAMI,MACNF,UAAU,IAGdG,MAf6B,SAevBP,GACJ,MAA8B,eAAOA,GAA7BK,EAAR,EAAQA,OAAQJ,EAAhB,EAAgBA,KAEVO,EAAc,WAClB,IAAIC,EAAiB,KACjBC,EAAe,KACnBP,OAAOQ,OAAON,EAAOO,OAAOC,SAAQ,SAACC,GAClB,YAAjBA,EAAMC,OAAuBN,IAAcC,OAE7C,IAAMM,EAAO,CAACP,EAAWC,GACrBO,EAAMC,KAAKJ,MAAMI,KAAKC,IAAIC,MAAM,KAAMJ,GAAQ,GAAW,EAC7D,MAAO,CAACP,EAAWC,EAAS,EAAGO,IAGjC,SAASI,IACP,OAAOpB,EAAKW,MAAMU,QAAQC,KAAI,SAACC,GAAD,OAAoBA,EAAO3B,QAG3D,SAAS4B,IACP,IAAMH,EAAoBD,IACpBL,EAAYM,EAAQC,KAAI,SAACC,GAC7B,IAAIE,EAAoB,EACpBC,EAA0BH,EAAOI,cAIrC,OAHAzB,OAAO0B,KAAKxB,EAAOO,OAAOC,SAAQ,SAACC,GAC7BT,EAAOO,MAAME,GAAOa,IAAkBD,OAErCA,KAGLT,EAA2D,GAA7CC,KAAKY,KAAKZ,KAAKC,IAAIC,MAAM,KAAMJ,GAAQ,IAEzD,+BAAWA,GAAX,CAAiB,EAAGC,IAGtB,IAAMvB,EAAY,gBAA2B,iBAAO,CAClDqC,OAAQ9B,EAAKW,MAAMoB,KAAO,CAAC,YAAa,WAAaX,IACrDY,SAAU,CACR,CACEC,MAAO,YACPC,gBAAiB,UACjBnB,KAAMf,EAAKW,MAAMoB,KAAOxB,IAAgBiB,UAK9C,MAAO,CAAE/B,gBCxE0X,I,YCOnY0C,EAAY,eACd,EACAlD,EACAS,GACA,EACA,KACA,KACA,MAIa,aAAAyC,E","file":"js/chunk-2d0e19ee.87e82c5e.js","sourcesContent":["var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('BarChart',{attrs:{\"chart-data\":_vm.chartData}})}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","\n\n\n\n\nimport { defineComponent, computed, toRefs } from '@vue/composition-api';\nimport { BarChart } from 'vue-chart-3';\nimport { Chart, ChartData, registerables } from 'chart.js';\nimport { Player } from '@/types';\n\nChart.register(...registerables);\n\nexport default defineComponent({\n  name: 'TheBarsChart',\n  components: {\n    BarChart\n  },\n  props: {\n    team: {\n      type: Object,\n      required: true\n    },\n    rounds: {\n      type: Array,\n      required: true\n    }\n  },\n  setup(props) {\n    const { rounds, team }: any = toRefs(props);\n\n    const getCoopStat = () => {\n      let victories: any = null;\n      let defeats: any = null;\n      Object.values(rounds.value).forEach((round: any) => {\n        round.result === 'VICTORY' ? victories++ : defeats++;\n      });\n      const data = [victories, defeats];\n      let top = Math.round(Math.max.apply(null, data) + 10 / 10) + 5;\n      return [victories, defeats, 0, top];\n    };\n\n    function getPlayers() {\n      return team.value.players.map((player: Player) => player.name);\n    }\n\n    function getPlayersStat() {\n      const players: string[] = getPlayers();\n      const data: any = players.map((player: string) => {\n        let playerRes: number = 0;\n        let formattedPlayer: string = player.toLowerCase();\n        Object.keys(rounds.value).forEach((round: string) => {\n          if (rounds.value[round][formattedPlayer]) playerRes++;\n        });\n        return playerRes;\n      });\n\n      let top: number = Math.ceil(Math.max.apply(null, data) / 10) * 10;\n\n      return [...data, 0, top];\n    }\n\n    const chartData = computed<ChartData<'bar'>>(() => ({\n      labels: team.value.coop ? ['Victories', 'Defeats'] : getPlayers(),\n      datasets: [\n        {\n          label: 'Victories',\n          backgroundColor: '#ec8506',\n          data: team.value.coop ? getCoopStat() : getPlayersStat()\n        }\n      ]\n    }));\n\n    return { chartData };\n  }\n});\n","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--14-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/ts-loader/index.js??ref--14-3!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./TheBarsChart.vue?vue&type=script&lang=ts&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--14-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/ts-loader/index.js??ref--14-3!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./TheBarsChart.vue?vue&type=script&lang=ts&\"","import { render, staticRenderFns } from \"./TheBarsChart.vue?vue&type=template&id=2ab36f65&\"\nimport script from \"./TheBarsChart.vue?vue&type=script&lang=ts&\"\nexport * from \"./TheBarsChart.vue?vue&type=script&lang=ts&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports"],"sourceRoot":""}